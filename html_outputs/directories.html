<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>45 Tương tác với thư mục làm việc | Cẩm nang dịch tễ học với R</title>
<meta name="author" content="the handbook team">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.16/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<script src="libs/tabwid-1.0.0/tabwid.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script><script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><script src="libs/plotly-binding-4.9.2.1/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script><link href="libs/vis-4.20.1/vis.css" rel="stylesheet">
<script src="libs/vis-4.20.1/vis.min.js"></script><script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script><link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="libs/plotly-basic-1.52.2/plotly-basic-1.52.2.min.js"></script><script src="libs/plotly-cartesian-1.52.2/plotly-cartesian-1.52.2.min.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-8.1.2/highcharts.js"></script><script src="libs/highcharts-8.1.2/highcharts-3d.js"></script><script src="libs/highcharts-8.1.2/highcharts-more.js"></script><script src="libs/highcharts-8.1.2/modules/stock.js"></script><script src="libs/highcharts-8.1.2/modules/map.js"></script><script src="libs/highcharts-8.1.2/modules/annotations.js"></script><script src="libs/highcharts-8.1.2/modules/data.js"></script><script src="libs/highcharts-8.1.2/modules/drilldown.js"></script><script src="libs/highcharts-8.1.2/modules/item-series.js"></script><script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script><script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-8.1.2/modules/exporting.js"></script><script src="libs/highcharts-8.1.2/modules/export-data.js"></script><script src="libs/highcharts-8.1.2/modules/funnel.js"></script><script src="libs/highcharts-8.1.2/modules/heatmap.js"></script><script src="libs/highcharts-8.1.2/modules/treemap.js"></script><script src="libs/highcharts-8.1.2/modules/sankey.js"></script><script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script><script src="libs/highcharts-8.1.2/modules/organization.js"></script><script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script><script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script><script src="libs/highcharts-8.1.2/modules/sunburst.js"></script><script src="libs/highcharts-8.1.2/modules/vector.js"></script><script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script><script src="libs/highcharts-8.1.2/modules/xrange.js"></script><script src="libs/highcharts-8.1.2/modules/tilemap.js"></script><script src="libs/highcharts-8.1.2/modules/venn.js"></script><script src="libs/highcharts-8.1.2/modules/gantt.js"></script><script src="libs/highcharts-8.1.2/modules/timeline.js"></script><script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script><script src="libs/highcharts-8.1.2/modules/bullet.js"></script><script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script><script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script><script src="libs/highcharts-8.1.2/modules/lollipop.js"></script><script src="libs/highcharts-8.1.2/modules/series-label.js"></script><script src="libs/highcharts-8.1.2/plugins/motion.js"></script><script src="libs/highcharts-8.1.2/custom/reset.js"></script><script src="libs/highcharts-8.1.2/modules/boost.js"></script><script src="libs/highchart-binding-0.8.2/highchart.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-QXDW878QLX"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QXDW878QLX');
    </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="style_bs4.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Cẩm nang dịch tễ học với R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li class="book-part">Về cuốn sách này</li>
<li><a class="" href="editorial-style.html"><span class="header-section-number">1</span> Biên tập và ghi chú kỹ thuật</a></li>
<li><a class="" href="data-used.html"><span class="header-section-number">2</span> Tải sách và dữ liệu</a></li>
<li class="book-part">Nhập môn về R</li>
<li><a class="" href="basics.html"><span class="header-section-number">3</span> R Cơ bản</a></li>
<li><a class="" href="transition-to-R.html"><span class="header-section-number">4</span> Chuyển đổi sang R</a></li>
<li><a class="" href="packages-suggested.html"><span class="header-section-number">5</span> Package đề xuất</a></li>
<li><a class="" href="r-projects.html"><span class="header-section-number">6</span> Dự án R</a></li>
<li><a class="" href="importing.html"><span class="header-section-number">7</span> Nhập xuất dữ liệu</a></li>
<li class="book-part">Quản lý dữ liệu</li>
<li><a class="" href="cleaning.html"><span class="header-section-number">8</span> Làm sạch số liệu và các hàm quan trọng</a></li>
<li><a class="" href="dates.html"><span class="header-section-number">9</span> Làm việc với ngày tháng</a></li>
<li><a class="" href="characters-strings.html"><span class="header-section-number">10</span> Ký tự và chuỗi</a></li>
<li><a class="" href="factors.html"><span class="header-section-number">11</span> Factors</a></li>
<li><a class="" href="pivoting.html"><span class="header-section-number">12</span> Xoay trục dữ liệu</a></li>
<li><a class="" href="grouping.html"><span class="header-section-number">13</span> Nhóm dữ liệu</a></li>
<li><a class="" href="joining-matching.html"><span class="header-section-number">14</span> Nối dữ liệu</a></li>
<li><a class="" href="deduplication.html"><span class="header-section-number">15</span> Loại bỏ trùng lặp</a></li>
<li><a class="" href="iteration.html"><span class="header-section-number">16</span> Lặp, vòng lặp, và danh sách</a></li>
<li class="book-part">Phân tích dữ liệu</li>
<li><a class="" href="tables-descriptive.html"><span class="header-section-number">17</span> Bảng mô tả</a></li>
<li><a class="" href="stat-tests.html"><span class="header-section-number">18</span> Các kiểm định thống kê cơ bản</a></li>
<li><a class="" href="regression.html"><span class="header-section-number">19</span> Hồi quy đơn và đa biến</a></li>
<li><a class="" href="missing-data.html"><span class="header-section-number">20</span> Dữ liệu Missing</a></li>
<li><a class="" href="standardization.html"><span class="header-section-number">21</span> Tỷ suất chuẩn hóa</a></li>
<li><a class="" href="moving-average.html"><span class="header-section-number">22</span> Đường trung bình động</a></li>
<li><a class="" href="time-series.html"><span class="header-section-number">23</span> Chuỗi thời gian và phát hiện ổ dịch</a></li>
<li><a class="" href="epidemic-models.html"><span class="header-section-number">24</span> Mô hình hóa dịch bệnh</a></li>
<li><a class="" href="contact-tracing.html"><span class="header-section-number">25</span> Truy vết tiếp xúc</a></li>
<li><a class="" href="survey-analysis.html"><span class="header-section-number">26</span> Phân tích khảo sát</a></li>
<li><a class="" href="survival-analysis.html"><span class="header-section-number">27</span> Phân tích sống còn</a></li>
<li><a class="" href="gis.html"><span class="header-section-number">28</span> GIS cơ bản</a></li>
<li class="book-part">Trực quan hóa dữ liệu</li>
<li><a class="" href="tables-presentation.html"><span class="header-section-number">29</span> Trình bày bảng</a></li>
<li><a class="" href="ggplot-basics.html"><span class="header-section-number">30</span> ggplot cơ bản</a></li>
<li><a class="" href="ggplot-tips.html"><span class="header-section-number">31</span> Các tips với ggplot</a></li>
<li><a class="" href="epicurves.html"><span class="header-section-number">32</span> Đường cong dịch bệnh</a></li>
<li><a class="" href="age-pyramid.html"><span class="header-section-number">33</span> Tháp dân số và thang đo Likert</a></li>
<li><a class="" href="heatmaps.html"><span class="header-section-number">34</span> Biểu đồ nhiệt</a></li>
<li><a class="" href="diagrams.html"><span class="header-section-number">35</span> Sơ đồ và biểu đồ</a></li>
<li><a class="" href="combination-analysis.html"><span class="header-section-number">36</span> Biểu đồ kết hợp</a></li>
<li><a class="" href="transmission-chains.html"><span class="header-section-number">37</span> Chuỗi lây nhiễm</a></li>
<li><a class="" href="phylogenetic-trees.html"><span class="header-section-number">38</span> Cây phả hệ</a></li>
<li><a class="" href="interactive-plots.html"><span class="header-section-number">39</span> Biểu đồ tương tác</a></li>
<li class="book-part">Báo cáo và dashboards</li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">40</span> Báo cáo với R Markdown</a></li>
<li><a class="" href="reportfactory.html"><span class="header-section-number">41</span> Tổ chức báo cáo định kỳ</a></li>
<li><a class="" href="flexdashboard.html"><span class="header-section-number">42</span> Dashboards với R Markdown</a></li>
<li><a class="" href="shiny-basics.html"><span class="header-section-number">43</span> Dashboards với Shiny</a></li>
<li class="book-part">Tổng hợp</li>
<li><a class="" href="writing-functions.html"><span class="header-section-number">44</span> Viết hàm</a></li>
<li><a class="active" href="directories.html"><span class="header-section-number">45</span> Tương tác với thư mục làm việc</a></li>
<li><a class="" href="collaboration.html"><span class="header-section-number">46</span> Version control với Git và Github</a></li>
<li><a class="" href="errors.html"><span class="header-section-number">47</span> Các lỗi thường gặp</a></li>
<li><a class="" href="help.html"><span class="header-section-number">48</span> Nhờ sự trợ giúp</a></li>
<li><a class="" href="network-drives.html"><span class="header-section-number">49</span> R trên ổ cứng mạng</a></li>
<li><a class="" href="data-table.html"><span class="header-section-number">50</span> Data Table</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="directories" class="section level1" number="45">
<h1>
<span class="header-section-number">45</span> Tương tác với thư mục làm việc<a class="anchor" aria-label="anchor" href="#directories"><i class="fas fa-link"></i></a>
</h1>
<p>Trong chương này, chúng tôi sẽ bao gồm các tình huống phổ biến, nơi chúng ta sẽ tạo, tương tác, lưu và nhập với thư mục.</p>
<div id="chuẩn-bị-37" class="section level2" number="45.1">
<h2>
<span class="header-section-number">45.1</span> Chuẩn bị<a class="anchor" aria-label="anchor" href="#chu%E1%BA%A9n-b%E1%BB%8B-37"><i class="fas fa-link"></i></a>
</h2>
<div id="fs-package" class="section level3 unnumbered">
<h3>
<strong>fs</strong> package<a class="anchor" aria-label="anchor" href="#fs-package"><i class="fas fa-link"></i></a>
</h3>
<p>Package <strong>fs</strong> thuộc hệ sinh thái <strong>tidyverse</strong> giúp thuận tiện cho việc tương tác với thư mục, cải thiện một số hàm trong <strong>base</strong> R. Trong các phần bên dưới, chúng ta sẽ dùng các hàm từ <strong>fs</strong>.</p>
<div class="sourceCode" id="cb1920"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span>
  <span class="va">fs</span>,             <span class="co"># file/directory interactions</span>
  <span class="va">rio</span>,            <span class="co"># import/export</span>
  <span class="va">here</span>,           <span class="co"># relative file pathways</span>
  <span class="va">tidyverse</span><span class="op">)</span>      <span class="co"># data management and visualization</span></code></pre></div>
</div>
<div id="in-thư-mục-dưới-dạng-cây-biểu-đồ-dendrogram" class="section level3 unnumbered">
<h3>In thư mục dưới dạng cây biểu đồ dendrogram<a class="anchor" aria-label="anchor" href="#in-th%C6%B0-m%E1%BB%A5c-d%C6%B0%E1%BB%9Bi-d%E1%BA%A1ng-c%C3%A2y-bi%E1%BB%83u-%C4%91%E1%BB%93-dendrogram"><i class="fas fa-link"></i></a>
</h3>
<p>Sử dụng hàm <code>dir_tree()</code> từ package <strong>fs</strong>.</p>
<p>Cung cấp đường dẫn thư mục cho đối số <code>path =</code> và quyết định xem có hay không chúng ta muốn hiển thị chỉ ở một cấp độ (<code>recurse = FALSE</code>) hay tất cả các tập tin trong tất cả các thư mục con (<code>recurse = TRUE</code>). Bên dưới chúng ta sử dụng hàm <code><a href="https://here.r-lib.org//reference/here.html">here()</a></code> để hiển thị kết quả dưới dạng viết tốc ký trong dự án R và cụ thể thư mục con “data” của nó, mà chứa tất các số liệu được sử dụng cho cuốn sổ tay này. Chúng ta thiết lập nó để hiện thị tất cả các tệp bên trong thư mục “data” và các thư mục con của nó (vd: “cache”, “epidemic models”, “population”, “shp”, và “weather”).</p>
<div class="sourceCode" id="cb1921"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/dir_tree.html">dir_tree</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span>, recurse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>## D:/Book Writing/4. EpiR Book/epiRhandbook_vn/data
## +-- cache
## |   \-- epidemic_models
## |       +-- 2015-04-30
## |       |   +-- estimated_reported_cases_samples.rds
## |       |   +-- estimate_samples.rds
## |       |   +-- latest_date.rds
## |       |   +-- reported_cases.rds
## |       |   +-- summarised_estimated_reported_cases.rds
## |       |   +-- summarised_estimates.rds
## |       |   \-- summary.rds
## |       +-- epinow_res.rds
## |       +-- epinow_res_small.rds
## |       +-- generation_time.rds
## |       \-- incubation_period.rds
## +-- case_linelists
## |   +-- cleaning_dict.csv
## |   +-- fluH7N9_China_2013.csv
## |   +-- linelist_cleaned.rds
## |   +-- linelist_cleaned.xlsx
## |   \-- linelist_raw.xlsx
## +-- example
## |   +-- Central Hospital.csv
## |   +-- district_weekly_count_data.xlsx
## |   +-- fluH7N9_China_2013.csv
## |   +-- hospital_linelists.xlsx
## |   +-- linelists
## |   |   +-- 20201007linelist.csv
## |   |   +-- case_linelist20201006.csv
## |   |   +-- case_linelist_2020-10-02.csv
## |   |   +-- case_linelist_2020-10-03.csv
## |   |   +-- case_linelist_2020-10-04.csv
## |   |   +-- case_linelist_2020-10-05.csv
## |   |   \-- case_linelist_2020-10-08.xlsx
## |   +-- Military Hospital.csv
## |   +-- Missing.csv
## |   +-- Other.csv
## |   +-- Port Hospital.csv
## |   \-- St. Mark's Maternity Hospital (SMMH).csv
## +-- flexdashboard
## |   +-- outbreak_dashboard.html
## |   +-- outbreak_dashboard.Rmd
## |   +-- outbreak_dashboard_shiny.Rmd
## |   +-- outbreak_dashboard_test.html
## |   \-- outbreak_dashboard_test.Rmd
## +-- gis
## |   +-- africa_countries.geo.json
## |   +-- covid_incidence.csv
## |   +-- covid_incidence_map.R
## |   +-- linelist_cleaned_with_adm3.rds
## |   +-- population
## |   |   +-- sle_admpop_adm3_2020.csv
## |   |   \-- sle_population_statistics_sierraleone_2020.xlsx
## |   \-- shp
## |       +-- README.txt
## |       +-- sle_adm3.CPG
## |       +-- sle_adm3.dbf
## |       +-- sle_adm3.prj
## |       +-- sle_adm3.sbn
## |       +-- sle_adm3.sbx
## |       +-- sle_adm3.shp
## |       +-- sle_adm3.shp.xml
## |       +-- sle_adm3.shx
## |       +-- sle_hf.CPG
## |       +-- sle_hf.dbf
## |       +-- sle_hf.prj
## |       +-- sle_hf.sbn
## |       +-- sle_hf.sbx
## |       +-- sle_hf.shp
## |       \-- sle_hf.shx
## +-- godata
## |   +-- cases_clean.rds
## |   +-- contacts_clean.rds
## |   +-- followups_clean.rds
## |   \-- relationships_clean.rds
## +-- likert_data.csv
## +-- linelist_cleaned.xlsx
## +-- make_evd_dataset.R
## +-- malaria_app
## |   +-- app.R
## |   +-- data
## |   |   \-- facility_count_data.rds
## |   +-- funcs
## |   |   \-- plot_epicurve.R
## |   +-- global.R
## |   +-- malaria_app.Rproj
## |   +-- server.R
## |   \-- ui.R
## +-- malaria_facility_count_data.rds
## +-- phylo
## |   +-- sample_data_Shigella_tree.csv
## |   +-- Shigella_subtree_2.nwk
## |   +-- Shigella_subtree_2.txt
## |   \-- Shigella_tree.txt
## +-- rmarkdown
## |   +-- outbreak_report.docx
## |   +-- outbreak_report.html
## |   +-- outbreak_report.pdf
## |   +-- outbreak_report.pptx
## |   +-- outbreak_report.Rmd
## |   +-- report_tabbed_example.html
## |   \-- report_tabbed_example.Rmd
## +-- standardization
## |   +-- country_demographics.csv
## |   +-- country_demographics_2.csv
## |   +-- deaths_countryA.csv
## |   +-- deaths_countryB.csv
## |   \-- world_standard_population_by_sex.csv
## +-- surveys
## |   +-- population.xlsx
## |   +-- survey_data.xlsx
## |   \-- survey_dict.xlsx
## \-- time_series
##     +-- campylobacter_germany.xlsx
##     \-- weather
##         +-- germany_weather2002.nc
##         +-- germany_weather2003.nc
##         +-- germany_weather2004.nc
##         +-- germany_weather2005.nc
##         +-- germany_weather2006.nc
##         +-- germany_weather2007.nc
##         +-- germany_weather2008.nc
##         +-- germany_weather2009.nc
##         +-- germany_weather2010.nc
##         \-- germany_weather2011.nc</code></pre>
</div>
</div>
<div id="liệt-kê-các-tập-tin-trong-một-thư-mục" class="section level2" number="45.2">
<h2>
<span class="header-section-number">45.2</span> Liệt kê các tập tin trong một thư mục<a class="anchor" aria-label="anchor" href="#li%E1%BB%87t-k%C3%AA-c%C3%A1c-t%E1%BA%ADp-tin-trong-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c"><i class="fas fa-link"></i></a>
</h2>
<p>Để chỉ liệt kê các tên tập tin trong một thư mục, chúng ta có thể sử dụng hàm <code><a href="https://rdrr.io/r/base/list.files.html">dir()</a></code> từ <strong>base</strong> Ví dụ, lệnh này liệt kê tên các tập tin của các tập tin trong thư mục con có tên “population” trong thư mục “data” của một dự án R. Đường dẫn tập tin tương đối được cung cấp bằng cách sử dụng hàm <code><a href="https://here.r-lib.org//reference/here.html">here()</a></code> (đọc thêm trong chương <a href="importing.html#importing">Nhập xuất dữ liệu</a>).</p>
<div class="sourceCode" id="cb1923"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># file names</span>
<span class="fu"><a href="https://rdrr.io/r/base/list.files.html">dir</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"gis"</span>, <span class="st">"population"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "sle_admpop_adm3_2020.csv"                        "sle_population_statistics_sierraleone_2020.xlsx"</code></pre>
<p>Để liệt kê đường dẫn đầy đủ của các tập tin trong thư mục, chúng ta có thể sử dụng hàm <code>dir_ls()</code> từ package <strong>fs</strong>. Một cách khác là dùng hàm <code><a href="https://rdrr.io/r/base/list.files.html">list.files()</a></code> trong <strong>base</strong> R.</p>
<div class="sourceCode" id="cb1925"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># file paths</span>
<span class="fu">dir_ls</span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"gis"</span>, <span class="st">"population"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## D:/Book Writing/4. EpiR Book/epiRhandbook_vn/data/gis/population/sle_admpop_adm3_2020.csv
## D:/Book Writing/4. EpiR Book/epiRhandbook_vn/data/gis/population/sle_population_statistics_sierraleone_2020.xlsx</code></pre>
<p>Để lấy tất cả thông tin chi tiết của mỗi tập tin trong một thư mục (ví dụ: đường dẫn, ngày sửa đổi, .v.v.), chúng ta có thể sử dụng hàm <code>dir_info()</code> của package <strong>fs</strong>.</p>
<p>Điều này có thể đặc biệt hữu ích nếu chúng ta muốn trích xuất thời gian sửa đổi sau cùng của tập tin, ví dụ như nếu chúng ta muốn nhập phiên bản mới nhất của tập tin. Ví dụ cho việc này, xem trong chương <a href="importing.html#importing">Nhập xuất dữ liệu</a>.</p>
<div class="sourceCode" id="cb1927"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># file info</span>
<span class="fu">dir_info</span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"gis"</span>, <span class="st">"population"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Sau đây là data frame được trả về. Cuộn qua phải để xem tất cả các cột.</p>
<div id="htmlwidget-994a68fb4abad2465df7" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-994a68fb4abad2465df7">{"x":{"filter":"none","data":[["D:/Book Writing/4. EpiR Book/epiRhandbook_vn/data/gis/population/sle_admpop_adm3_2020.csv","D:/Book Writing/4. EpiR Book/epiRhandbook_vn/data/gis/population/sle_population_statistics_sierraleone_2020.xlsx"],["file","file"],[26939,57850],[33206,33206],["2021-11-01T15:49:59Z","2021-11-01T15:49:59Z"],[null,null],[null,null],[1821780192,1821780192],[1,1],[0,0],[7.59982437121558e+15,7.59982437121558e+15],[4096,4096],[56,120],[0,0],[0,0],["2021-11-01T19:42:45Z","2021-11-01T15:49:59Z"],["2021-11-01T15:49:59Z","2021-11-01T15:49:59Z"],["2021-11-01T15:49:59Z","2021-11-01T15:49:59Z"]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>path<\/th>\n      <th>type<\/th>\n      <th>size<\/th>\n      <th>permissions<\/th>\n      <th>modification_time<\/th>\n      <th>user<\/th>\n      <th>group<\/th>\n      <th>device_id<\/th>\n      <th>hard_links<\/th>\n      <th>special_device_id<\/th>\n      <th>inode<\/th>\n      <th>block_size<\/th>\n      <th>blocks<\/th>\n      <th>flags<\/th>\n      <th>generation<\/th>\n      <th>access_time<\/th>\n      <th>change_time<\/th>\n      <th>birth_time<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3,7,8,9,10,11,12,13,14]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="thông-tin-tệp" class="section level2" number="45.3">
<h2>
<span class="header-section-number">45.3</span> Thông tin tệp<a class="anchor" aria-label="anchor" href="#th%C3%B4ng-tin-t%E1%BB%87p"><i class="fas fa-link"></i></a>
</h2>
<p>Để trích xuất thông tin chi tiết của một tập tin cụ thể, chúng ta có thể sử dụng hàme <code>file_info()</code> từ package <strong>fs</strong> (hoặc <code><a href="https://rdrr.io/r/base/file.info.html">file.info()</a></code> từ <strong>base</strong> R).</p>
<div class="sourceCode" id="cb1928"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">file_info</span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"case_linelists"</span>, <span class="st">"linelist_cleaned.rds"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-b56216c6b1a553cb3c7b" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b56216c6b1a553cb3c7b">{"x":{"filter":"none","data":[["D:/Book Writing/4. EpiR Book/epiRhandbook_vn/data/case_linelists/linelist_cleaned.rds"],["file"],[290215],[33206],["2021-11-01T15:49:58Z"],[null],[null],[1821780192],[1],[0],[8.16277432463686e+15],[4096],[568],[0],[0],["2021-11-01T19:50:29Z"],["2021-11-01T15:49:58Z"],["2021-11-01T15:49:58Z"]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>path<\/th>\n      <th>type<\/th>\n      <th>size<\/th>\n      <th>permissions<\/th>\n      <th>modification_time<\/th>\n      <th>user<\/th>\n      <th>group<\/th>\n      <th>device_id<\/th>\n      <th>hard_links<\/th>\n      <th>special_device_id<\/th>\n      <th>inode<\/th>\n      <th>block_size<\/th>\n      <th>blocks<\/th>\n      <th>flags<\/th>\n      <th>generation<\/th>\n      <th>access_time<\/th>\n      <th>change_time<\/th>\n      <th>birth_time<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3,7,8,9,10,11,12,13,14]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>Ở đây, chúng ta sử dụng ký hiệu <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> để chỉ rõ kết quả và xuất chỉ mỗi giá trị về thời gian sửa đổi <code>modification_time</code>.</p>
<div class="sourceCode" id="cb1929"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">file_info</span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"case_linelists"</span>, <span class="st">"linelist_cleaned.rds"</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">modification_time</span></code></pre></div>
<pre><code>## [1] "2021-11-01 16:49:58 CET"</code></pre>
</div>
<div id="kiểm-tra-sự-tồn-tại" class="section level2" number="45.4">
<h2>
<span class="header-section-number">45.4</span> Kiểm tra sự tồn tại<a class="anchor" aria-label="anchor" href="#ki%E1%BB%83m-tra-s%E1%BB%B1-t%E1%BB%93n-t%E1%BA%A1i"><i class="fas fa-link"></i></a>
</h2>
<div id="đối-tượng-r" class="section level3 unnumbered">
<h3>Đối tượng R<a class="anchor" aria-label="anchor" href="#%C4%91%E1%BB%91i-t%C6%B0%E1%BB%A3ng-r"><i class="fas fa-link"></i></a>
</h3>
<p>Bạn có thể sử dụng hàm <code><a href="https://rdrr.io/r/base/exists.html">exists()</a></code> trong <strong>base</strong> R để kiểm tra xem một đối tượng R có tồn tại <em>bên trong</em> môi trường R hay không (cung cấp tên đối tượng trong dấu ngoặc kép).</p>
<div class="sourceCode" id="cb1931"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"linelist"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Lưu ý rằng một số gói lệnh trong <strong>base</strong> R sử dụng các tên chung làm tên cho các đối tượng như “data” trong môi trường R, mà kết quả kiểm tra sẽ là TRUE trừ khi chúng ta chỉ rõ <code>inherit = FALSE</code>. Đây là một lý do để không đặt tên cho bộ số liệu của chúng ta là “data”.</p>
<div class="sourceCode" id="cb1933"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb1935"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"data"</span>, inherit <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Nếu bạn đang viết một hàm, bạn nên sử dụng hàm <code><a href="https://rdrr.io/r/base/missing.html">missing()</a></code> từ <strong>base</strong> R để kiểm tra xem có một đối số hiện diện hay không, thay vì dùng hàm <code><a href="https://rdrr.io/r/base/exists.html">exists()</a></code>.</p>
</div>
<div id="thư-mục" class="section level3 unnumbered">
<h3>Thư mục<a class="anchor" aria-label="anchor" href="#th%C6%B0-m%E1%BB%A5c"><i class="fas fa-link"></i></a>
</h3>
<p>Để kiểm tra xem một thư mục có tồn tại không, cung cấp đường dẫn tập tin (và tên tập tin) đến hàm <code>is_dir()</code> của package <strong>fs</strong>. Cuộn qua bên phải để thấy thông báo <code>TRUE</code> được in ra.</p>
<div class="sourceCode" id="cb1937"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">is_dir</span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## D:/Book Writing/4. EpiR Book/epiRhandbook_vn/data 
##                                              TRUE</code></pre>
<p>Một cách làm khác là dùng hàm <code><a href="https://rdrr.io/r/base/files.html">file.exists()</a></code> từ <strong>base</strong> R.</p>
</div>
<div id="tệp" class="section level3 unnumbered">
<h3>Tệp<a class="anchor" aria-label="anchor" href="#t%E1%BB%87p"><i class="fas fa-link"></i></a>
</h3>
<p>Để kiểm tra xem một tập tin cụ thể có tồn tại hay không, sử dụng hàm <code>is_file()</code> của package <strong>fs</strong>. Cuộn qua bên phải để thấy thông báo <code>TRUE</code> được in ra.</p>
<div class="sourceCode" id="cb1939"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">is_file</span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"case_linelists"</span>, <span class="st">"linelist_cleaned.rds"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## D:/Book Writing/4. EpiR Book/epiRhandbook_vn/data/case_linelists/linelist_cleaned.rds 
##                                                                                  TRUE</code></pre>
<p>Một cách làm khác là dùng hàm <code><a href="https://rdrr.io/r/base/files.html">file.exists()</a></code> từ <strong>base</strong> R.</p>
</div>
</div>
<div id="tạo-mới" class="section level2" number="45.5">
<h2>
<span class="header-section-number">45.5</span> Tạo mới<a class="anchor" aria-label="anchor" href="#t%E1%BA%A1o-m%E1%BB%9Bi"><i class="fas fa-link"></i></a>
</h2>
<div id="thư-mục-1" class="section level3 unnumbered">
<h3>Thư mục<a class="anchor" aria-label="anchor" href="#th%C6%B0-m%E1%BB%A5c-1"><i class="fas fa-link"></i></a>
</h3>
<p>Để tạo một thư mục mới, bạn có thể sử dụng hàm <code>dir_create()</code> từ package <strong>fs</strong>. Nếu thư mục đã tồn tại, thư mục này sẽ không bị ghi đè và không bị trả lại lỗi.</p>
<div class="sourceCode" id="cb1941"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dir_create</span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"test"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Một cách làm khác là dùng hàm <code><a href="https://rdrr.io/r/base/files2.html">dir.create()</a></code> từ <strong>base</strong> R, mà sẽ hiển thị lỗi nếu thư mục đó đã tồn tại. Ngược lại, <code>dir_create()</code> sẽ không thông báo gì.</p>
</div>
<div id="tệp-1" class="section level3 unnumbered">
<h3>Tệp<a class="anchor" aria-label="anchor" href="#t%E1%BB%87p-1"><i class="fas fa-link"></i></a>
</h3>
<p>Chúng ta có thể tạo một tâp tin (rỗng) bằng hàm <code>file_create()</code> từ package <strong>fs</strong>. Nếu tập tin này đã tồn tại, nó sẽ không bị ghi đè hoặc thay đổi.</p>
<div class="sourceCode" id="cb1942"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">file_create</span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"test.rds"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Một cách làm khác là dùng hàm <code><a href="https://rdrr.io/r/base/files.html">file.create()</a></code> từ <strong>base</strong> R. Nhưng nếu tập tin này đã tồn tại, tùy chọn này sẽ cắt xén tập tin đó. Nếu dùng hàm <code>file_create()</code> tập tin này sẽ được giữ nguyên.</p>
</div>
<div id="tạo-nếu-không-tồn-tại" class="section level3 unnumbered">
<h3>Tạo nếu không tồn tại<a class="anchor" aria-label="anchor" href="#t%E1%BA%A1o-n%E1%BA%BFu-kh%C3%B4ng-t%E1%BB%93n-t%E1%BA%A1i"><i class="fas fa-link"></i></a>
</h3>
<p>ĐANG XÂY DỰNG</p>
</div>
</div>
<div id="xóa" class="section level2" number="45.6">
<h2>
<span class="header-section-number">45.6</span> Xóa<a class="anchor" aria-label="anchor" href="#x%C3%B3a"><i class="fas fa-link"></i></a>
</h2>
<div id="đối-tượng-r-1" class="section level3 unnumbered">
<h3>Đối tượng R<a class="anchor" aria-label="anchor" href="#%C4%91%E1%BB%91i-t%C6%B0%E1%BB%A3ng-r-1"><i class="fas fa-link"></i></a>
</h3>
<p>Dùng hàm <code><a href="https://rdrr.io/r/base/rm.html">rm()</a></code> từ <strong>base</strong> R để loại bỏ một đối tượng R.</p>
</div>
<div id="thư-mục-2" class="section level3 unnumbered">
<h3>Thư mục<a class="anchor" aria-label="anchor" href="#th%C6%B0-m%E1%BB%A5c-2"><i class="fas fa-link"></i></a>
</h3>
<p>Dùng hàm <code>dir_delete()</code> từ package <strong>fs</strong>.</p>
</div>
<div id="tệp-2" class="section level3 unnumbered">
<h3>Tệp<a class="anchor" aria-label="anchor" href="#t%E1%BB%87p-2"><i class="fas fa-link"></i></a>
</h3>
<p>Chúng ta có thể xóa các tệp bằng hàm <code>file_delete()</code> từ package <strong>fs</strong>.</p>
</div>
</div>
<div id="chạy-các-tệp-khác" class="section level2" number="45.7">
<h2>
<span class="header-section-number">45.7</span> Chạy các tệp khác<a class="anchor" aria-label="anchor" href="#ch%E1%BA%A1y-c%C3%A1c-t%E1%BB%87p-kh%C3%A1c"><i class="fas fa-link"></i></a>
</h2>
<div id="source" class="section level3 unnumbered">
<h3>
<code>source()</code><a class="anchor" aria-label="anchor" href="#source"><i class="fas fa-link"></i></a>
</h3>
<p>Để chạy một R script từ một R script khác, bạn có thể sử dụng hàm <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> (trong <strong>base</strong> R).</p>
<div class="sourceCode" id="cb1943"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"scripts"</span>, <span class="st">"cleaning_scripts"</span>, <span class="st">"clean_testing_data.R"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>ở phía trên bên phải của tập lệnh. Điều này sẽ thực hiện tập lệnh này nhưng sẽ thực hiện một cách âm thầm (không có kết quả đầu ra trong bảng điều khiển R) trừ khi có chủ ý cụ thể. Xem các ví dụ ở chương [Bảng điều khiển tương tác] về cách sử dụng <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> để tương tác với người dùng qua bảng điều khiên R ở chế độ hỏi và trả lời.</p>
<div class="inline-figure"><img src="images/source_button.png" width="82" height="300%" style="display: block; margin: auto;"></div>
</div>
<div id="render" class="section level3 unnumbered">
<h3>
<code>render()</code><a class="anchor" aria-label="anchor" href="#render"><i class="fas fa-link"></i></a>
</h3>
<p>Hàm <code>render()</code> là một biến thể của hàm <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> mà thường được sử dụng nhất cho các tập lệnh của R markdown. Chúng ta cung cấp <code>input =</code> tập tin R markdown, và cũng vậy <code>output_format =</code> (thường là “html_document”, “pdf_document”, “word_document”, ““)</p>
<p>Xem chương <a href="rmarkdown.html#rmarkdown">Báo cáo với R Markdown</a> để biết thêm chi tiết. Ngoài ra, bạn có thể xem thêm tài liệu về <code>render()</code> <a href="https://rmarkdown.rstudio.com/docs/reference/render.html">tại đây</a> hoặc bằng cách gõ <code>?render</code>.</p>
</div>
<div id="chạy-các-tệp-trong-một-thư-mục" class="section level3 unnumbered">
<h3>Chạy các tệp trong một thư mục<a class="anchor" aria-label="anchor" href="#ch%E1%BA%A1y-c%C3%A1c-t%E1%BB%87p-trong-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c"><i class="fas fa-link"></i></a>
</h3>
<p>Bạn có thể tạo một <em>vòng lặp for</em> và sử dụng nó để <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> từng tệp trong một thư mục, đã được nhận dạng bởi hàm <code><a href="https://rdrr.io/r/base/list.files.html">dir()</a></code>.</p>
<div class="sourceCode" id="cb1944"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">script</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html">dir</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"scripts"</span><span class="op">)</span>, pattern <span class="op">=</span> <span class="st">".R$"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>   <span class="co"># for each script name in the R Project's "scripts" folder (with .R extension)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"scripts"</span>, <span class="va">script</span><span class="op">)</span><span class="op">)</span>                        <span class="co"># source the file with the matching name that exists in the scripts folder</span>
<span class="op">}</span></code></pre></div>
<p>Nếu chúng ta chỉ muốn thực hiện một vài scripts, chúng ta có thể xác định chúng bằng tên như sau:</p>
<div class="sourceCode" id="cb1945"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">scripts_to_run</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
     <span class="st">"epicurves.R"</span>,
     <span class="st">"demographic_tables.R"</span>,
     <span class="st">"survival_curves.R"</span>
<span class="op">)</span>

<span class="kw">for</span><span class="op">(</span><span class="va">script</span> <span class="kw">in</span> <span class="va">scripts_to_run</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"scripts"</span>, <span class="va">script</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>Đây là một <a href="https://cran.r-project.org/web/packages/fs/vignettes/function-comparisons.html">so sánh</a> giữa các hàm của <strong>fs</strong> và <strong>base</strong> R.</p>
</div>
<div id="nhập-tệp-vào-một-thư-mục" class="section level3 unnumbered">
<h3>Nhập tệp vào một thư mục<a class="anchor" aria-label="anchor" href="#nh%E1%BA%ADp-t%E1%BB%87p-v%C3%A0o-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c"><i class="fas fa-link"></i></a>
</h3>
<p>Xem chương <a href="importing.html#importing">Nhập xuất dữ liệu</a> để nhập và xuất các tập tin riêng lẻ.</p>
<p>Ngoài ra cũng xem thêm chương <a href="importing.html#importing">Nhập xuất dữ liệu</a> để biết các phương pháp nhập một cách tự động các tập tin gần đây nhất dựa trên ngày trong tên tập tin <em>hoặc</em> bằng cách xem các thông tin chi tiết của tập tin.</p>
<p>Xem một ví dụ trong chương [Lặp, vòng lặp và danh sách] để thấy rõ cách sử dụng package <strong>purrr</strong>:</p>
<ul>
<li>Để tách một data frame và lưu nó ra dưới dạng nhiều tập tin<br>
</li>
<li>Tách một data frame và lưu từng phần vào một trang tính riêng biệt trong một tập tin Excel<br>
</li>
<li>Nhập nhiều tập tin CSV và kết hợp chúng thành một dataframe<br>
</li>
<li>Nhập một tập tin Excel có nhiều trang tính riêng biệt và kết hợp chúng thành một dataframe</li>
</ul>
</div>
</div>
<div id="base-r-3" class="section level2" number="45.8">
<h2>
<span class="header-section-number">45.8</span> <strong>base</strong> R<a class="anchor" aria-label="anchor" href="#base-r-3"><i class="fas fa-link"></i></a>
</h2>
<p>Xem bên dưới các hàm <code><a href="https://rdrr.io/r/base/list.files.html">list.files()</a></code> và <code><a href="https://rdrr.io/r/base/list.files.html">dir()</a></code>, thực hiện cùng một thao tác liệt kê các tập tin trong một thư mục cụ thể. Chúng ta có thể cụ thể cho đối số <code>ignore.case =</code> hoặc cụ thể một pattern để tìm kiếm.</p>
<div class="sourceCode" id="cb1946"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span>, pattern <span class="op">=</span> <span class="st">".csv"</span><span class="op">)</span>
<span class="co"># dir(path = here("data"), pattern = ".csv")</span>

<span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span>, pattern <span class="op">=</span> <span class="st">"evd"</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Nếu một tập tin hiện tại đang “mở”, nó sẽ hiện thị trong thư mục với dấu ngã phía trước, chẳng hạn như “~$hospital_linelists.xlsx”.</p>
<!-- ======================================================= -->
</div>
<div id="nguồn-13" class="section level2" number="45.9">
<h2>
<span class="header-section-number">45.9</span> Nguồn<a class="anchor" aria-label="anchor" href="#ngu%E1%BB%93n-13"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://cran.r-project.org/web/packages/fs/vignettes/function-comparisons.html" class="uri">https://cran.r-project.org/web/packages/fs/vignettes/function-comparisons.html</a></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="writing-functions.html"><span class="header-section-number">44</span> Viết hàm</a></div>
<div class="next"><a href="collaboration.html"><span class="header-section-number">46</span> Version control với Git và Github</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#directories"><span class="header-section-number">45</span> Tương tác với thư mục làm việc</a></li>
<li>
<a class="nav-link" href="#chu%E1%BA%A9n-b%E1%BB%8B-37"><span class="header-section-number">45.1</span> Chuẩn bị</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#fs-package">fs package</a></li>
<li><a class="nav-link" href="#in-th%C6%B0-m%E1%BB%A5c-d%C6%B0%E1%BB%9Bi-d%E1%BA%A1ng-c%C3%A2y-bi%E1%BB%83u-%C4%91%E1%BB%93-dendrogram">In thư mục dưới dạng cây biểu đồ dendrogram</a></li>
</ul>
</li>
<li><a class="nav-link" href="#li%E1%BB%87t-k%C3%AA-c%C3%A1c-t%E1%BA%ADp-tin-trong-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c"><span class="header-section-number">45.2</span> Liệt kê các tập tin trong một thư mục</a></li>
<li><a class="nav-link" href="#th%C3%B4ng-tin-t%E1%BB%87p"><span class="header-section-number">45.3</span> Thông tin tệp</a></li>
<li>
<a class="nav-link" href="#ki%E1%BB%83m-tra-s%E1%BB%B1-t%E1%BB%93n-t%E1%BA%A1i"><span class="header-section-number">45.4</span> Kiểm tra sự tồn tại</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%C4%91%E1%BB%91i-t%C6%B0%E1%BB%A3ng-r">Đối tượng R</a></li>
<li><a class="nav-link" href="#th%C6%B0-m%E1%BB%A5c">Thư mục</a></li>
<li><a class="nav-link" href="#t%E1%BB%87p">Tệp</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#t%E1%BA%A1o-m%E1%BB%9Bi"><span class="header-section-number">45.5</span> Tạo mới</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#th%C6%B0-m%E1%BB%A5c-1">Thư mục</a></li>
<li><a class="nav-link" href="#t%E1%BB%87p-1">Tệp</a></li>
<li><a class="nav-link" href="#t%E1%BA%A1o-n%E1%BA%BFu-kh%C3%B4ng-t%E1%BB%93n-t%E1%BA%A1i">Tạo nếu không tồn tại</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#x%C3%B3a"><span class="header-section-number">45.6</span> Xóa</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%C4%91%E1%BB%91i-t%C6%B0%E1%BB%A3ng-r-1">Đối tượng R</a></li>
<li><a class="nav-link" href="#th%C6%B0-m%E1%BB%A5c-2">Thư mục</a></li>
<li><a class="nav-link" href="#t%E1%BB%87p-2">Tệp</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#ch%E1%BA%A1y-c%C3%A1c-t%E1%BB%87p-kh%C3%A1c"><span class="header-section-number">45.7</span> Chạy các tệp khác</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#source">source()</a></li>
<li><a class="nav-link" href="#render">render()</a></li>
<li><a class="nav-link" href="#ch%E1%BA%A1y-c%C3%A1c-t%E1%BB%87p-trong-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c">Chạy các tệp trong một thư mục</a></li>
<li><a class="nav-link" href="#nh%E1%BA%ADp-t%E1%BB%87p-v%C3%A0o-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c">Nhập tệp vào một thư mục</a></li>
</ul>
</li>
<li><a class="nav-link" href="#base-r-3"><span class="header-section-number">45.8</span> base R</a></li>
<li><a class="nav-link" href="#ngu%E1%BB%93n-13"><span class="header-section-number">45.9</span> Nguồn</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Cẩm nang dịch tễ học với R</strong>" was written by the handbook team. It was last built on 2021-11-01.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
